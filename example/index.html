<!DOCTYPE html>
<html>
  <head>
    <title>angular-evaporate</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../node_modules/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="index.css">
  </head>
  <body ng-app="myApp">
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
          <div class="navbar-brand">angular-evaporate</div>
          <p class="navbar-text">usage example</p>
        </div>
      </div>
    </nav>
    <div class="container" ng-controller="myCtrl">

      <!-- input -->
      <div class="row">
        <div class="col-xs-6 col-sm-4">
          <h4>Choose files</h4>
          <div class="input-group">
            <label class="input-group-btn">
              <span class="btn btn-primary">
                <span>Browse&hellip;</span>

                <!-- AngularEvaporate -->
                <input type="file" style="display:none;" multiple angular-evaporate="ae">

              </span>
            </label>
            <input type="text" class="form-control" readonly value="{{ae.$uploads.length + ' files queued'}}">
          </div>
          <span class="help-block">Evaporate is supported: {{ae.supported}}</span>
        </div>
      </div>

      <!-- uploads -->
      <div class="row">
        <div class="col-xs-12">
          <h4>Uploads queue</h4>
          <p class="text-muted" ng-hide="ae.$uploads.length">Empty</p>
          <table class="table table-responsive table-striped">
            <tbody>
              <tr ng-repeat="upload in ae.$uploads">

                <!-- basic info -->
                <td ng-bind="upload.name"></td>
                <td ng-bind="upload.contentType"></td>
                <td>{{Math.round(upload.file.size/1024)}}kB</td>

                <!-- actions -->
                <td class="my-actions">
                  <i class="fa fa-fw fa-play" title="Start or resume"
                    ng-class="{'my-disabled':(upload.$started&&!upload.$paused)||upload.$stopped}"
                    ng-click="upload.$start()"
                  ></i>
                  <i class="fa fa-fw fa-pause" title="Pause"
                    ng-class="{'my-disabled':!upload.$started||upload.$pausing||upload.$paused||upload.$stopped}"
                    ng-click="upload.$pause({force:true})"
                  ></i>
                  <i class="fa fa-fw fa-stop" title="Cancel"
                    ng-class="{'my-disabled':!upload.$started||upload.$stopped}"
                    ng-click="upload.$cancel()"
                  ></i>
                  <i class="fa fa-fw fa-times" title="Dequeue"
                    ng-class="{'my-disabled':upload.$started&&!upload.$stopped}"
                    ng-click="upload.$dequeue()"
                  ></i>
                </td>

                <!-- progress / result -->
                <td>
                  <div class="form-horizontal" ng-hide="!upload.$started||upload.$stopped">
                    <div class="progress">
                      <div
                        class="progress-bar progress-bar-primary progress-bar-striped active"
                        ng-style="{'width':(upload.$percent||0)+'%'}"
                        ng-bind="upload.$seconds?upload.$seconds+'s':''"
                      ></div>
                    </div>
                  </div>
                  <a target="_blank" ng-href="{{upload.$url}}" ng-show="upload.$complete">
                    <i
                      class="fa fa-fw fa-external-link"
                      title="Open result in a new tab"
                    ></i>
                  </a>
                </td>

              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <script src="../node_modules/angular/angular.js"></script>
    <script src="../node_modules/evaporate/evaporate.js"></script>
    <script src="../lib/angular-evaporate.js"></script>
    <script src="index.js"></script>
  </body>
</html>
